{"ast":null,"code":"var _jsxFileName = \"/Users/nazarkashif/CollegeCourses/Sem-8/SPE/ReadFeedCatalogue/frontend/src/containers/Listings.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\nimport Card from '../components/Card';\nimport Pagination from '../components/Pagination';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Listings = () => {\n  _s();\n\n  const [listings, setListings] = useState([]);\n  const [count, setCount] = useState(0);\n  const [previous, setPrevious] = useState('');\n  const [next, setNext] = useState('');\n  const [active, setActive] = useState(1);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n\n    const fetchData = async () => {\n      try {\n        const res = await axios.get(`http://127.0.0.1:8000/api/listings/?page=1`);\n        setListings(res.data.results);\n        setCount(res.data.count);\n        setPrevious(res.data.previous);\n        setNext(res.data.next);\n      } catch (err) {}\n    };\n\n    fetchData();\n  }, []);\n\n  const displayListings = () => {\n    let display = [];\n    let result = [];\n    listings.map(listing => {\n      return display.push( /*#__PURE__*/_jsxDEV(Card, {\n        title: listing.title,\n        address: listing.address,\n        city: listing.city,\n        state: listing.state,\n        price: listing.price,\n        sale_type: listing.sale_type,\n        home_type: listing.home_type,\n        bedrooms: listing.bedrooms,\n        bathrooms: listing.bathrooms,\n        sqft: listing.sqft,\n        photo_main: listing.photo_main,\n        slug: listing.slug\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this));\n    });\n\n    for (let i = 0; i < listings.length; i += 3) {\n      result.push( /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i + 1] ? display[i + 1] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-1-of-3\",\n          children: display[i + 2] ? display[i + 2] : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this));\n    }\n\n    return result;\n  };\n\n  const visitPage = page => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/listings/?page=${page}`).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      setActive(page);\n    }).catch(err => {});\n  };\n\n  const previous_number = () => {\n    axios.get(previous).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      if (previous) setActive(active - 1);\n    }).catch(err => {});\n  };\n\n  const next_number = () => {\n    axios.get(next).then(res => {\n      setListings(res.data.results);\n      setPrevious(res.data.previous);\n      setNext(res.data.next);\n      if (next) setActive(active + 1);\n    }).catch(err => {});\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"listings\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Realest Estate - Listings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Listings page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"listings__listings\",\n      children: displayListings()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"listings__pagination\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(Pagination, {\n          itemsPerPage: 3,\n          count: count,\n          visitPage: visitPage,\n          previous: previous_number,\n          next: next_number,\n          active: active,\n          setActive: setActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Listings, \"c+WX7CYO/86azFhA1eGme9RJoZE=\");\n\n_c = Listings;\nexport default Listings;\n\nvar _c;\n\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"sources":["/Users/nazarkashif/CollegeCourses/Sem-8/SPE/ReadFeedCatalogue/frontend/src/containers/Listings.js"],"names":["React","useState","useEffect","Helmet","axios","Card","Pagination","Listings","listings","setListings","count","setCount","previous","setPrevious","next","setNext","active","setActive","window","scrollTo","fetchData","res","get","data","results","err","displayListings","display","result","map","listing","push","title","address","city","state","price","sale_type","home_type","bedrooms","bathrooms","sqft","photo_main","slug","i","length","visitPage","page","process","env","REACT_APP_API_URL","then","catch","previous_number","next_number"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Helmet } from 'react-helmet';\nimport axios from 'axios';\nimport Card from '../components/Card';\nimport Pagination from '../components/Pagination';\n\nconst Listings = () => {\n    const [listings, setListings] = useState([]);\n    const [count, setCount] = useState(0);\n    const [previous, setPrevious] = useState('');\n    const [next, setNext] = useState('');\n    const [active, setActive] = useState(1);\n\n    useEffect(() => {\n        window.scrollTo(0, 0);\n\n        const fetchData = async () => {\n            try {\n                const res = await axios.get(`http://127.0.0.1:8000/api/listings/?page=1`);\n\n                setListings(res.data.results);\n                setCount(res.data.count);\n                setPrevious(res.data.previous);\n                setNext(res.data.next);\n            }\n            catch (err) {\n\n            }\n        }\n\n        fetchData();\n    }, []);\n\n    const displayListings = () => {\n        let display = [];\n        let result = [];\n\n        listings.map(listing => {\n            return display.push(\n                <Card\n                    title={listing.title}\n                    address={listing.address}\n                    city={listing.city}\n                    state={listing.state}\n                    price={listing.price}\n                    sale_type={listing.sale_type}\n                    home_type={listing.home_type}\n                    bedrooms={listing.bedrooms}\n                    bathrooms={listing.bathrooms}\n                    sqft={listing.sqft}\n                    photo_main={listing.photo_main}\n                    slug={listing.slug}\n                />\n            );\n        });\n\n        for (let i = 0; i < listings.length; i += 3) {\n            result.push(\n                <div key={i} className='row'>\n                    <div className='col-1-of-3'>\n                        {display[i]}\n                    </div>\n                    <div className='col-1-of-3'>\n                        {display[i+1] ? display[i+1] : null}\n                    </div>\n                    <div className='col-1-of-3'>\n                        {display[i+2] ? display[i+2] : null}\n                    </div>\n                </div>\n            );\n        }\n\n        return result;\n    };\n\n    const visitPage = (page) => {\n        axios.get(`${process.env.REACT_APP_API_URL}/api/listings/?page=${page}`)\n        .then(res => {\n            setListings(res.data.results);\n            setPrevious(res.data.previous);\n            setNext(res.data.next);\n            setActive(page);\n        })\n        .catch(err => {\n\n        });\n    };\n\n    const previous_number = () => {\n        axios.get(previous)\n        .then(res => {\n            setListings(res.data.results);\n            setPrevious(res.data.previous);\n            setNext(res.data.next);\n            if (previous)\n                setActive(active-1);\n        })\n        .catch(err => {\n\n        });\n    };\n\n    const next_number = () => {\n        axios.get(next)\n        .then(res => {\n            setListings(res.data.results);\n            setPrevious(res.data.previous);\n            setNext(res.data.next);\n            if (next)\n                setActive(active+1);\n        })\n        .catch(err => {\n\n        });\n    };\n\n    return (\n        <main className='listings'>\n            <Helmet>\n                <title>Realest Estate - Listings</title>\n                <meta\n                    name='description'\n                    content='Listings page'\n                />\n            </Helmet>\n            <section className='listings__listings'>\n                {displayListings()}\n            </section>\n            <section className='listings__pagination'>\n                <div className='row'>\n                    <Pagination\n                        itemsPerPage={3}\n                        count={count}\n                        visitPage={visitPage}\n                        previous={previous_number}\n                        next={next_number}\n                        active={active}\n                        setActive={setActive}\n                    />\n                </div>\n            </section>\n        </main>\n    );\n};\n\nexport default Listings;\n\n"]},"metadata":{},"sourceType":"module"}